\documentclass{IEEEtran}
\usepackage{hyperref}
\usepackage[latin1]{inputenc}
\usepackage[ngerman]{babel}

\title{Staukontrolle durch Active Queue Management}
\author{Thomas Fischer, Dominik Billing}
\specialpapernotice{Masterseminar Kommunikationssysteme\\
Lehr- und Forschungseinheit für Kommunikationssysteme und Systemprogrammierung\\
Ludwig-Maximilians-Universität München}

\begin{document}
\maketitle

\begin{abstract}
Dieser Artikel beschreibt die Problematik im Internet, die durch den Einsatz von konventioneller Staukontrolle in Routern und die Struktur des Internets hervorgerufen wird. Die Problematik konventioneller Staukontrolle liegt darin, dass Pakete wahllos fallen gelassen werden und es auf diese Art zu großem Overhead kommt, der durch Flaschenhälse im Internet noch verstärkt wird.

Wir werden als Lösung für das Problem der Staukontrolle im Internet Active Queue Management herausarbeiten. Hierbei werden Pakete nicht wahllos fallen gelassen, sondern im Gegensatz alle Flüsse gleich behandelt und nachfolgende Router mittels markierter Pakete darüber informiert, dass es zu Staus kommen kann. Active Queue Management ist der Überbegriff von Methoden, um die mittlere Pufferauslastung der Router möglichst gering zu halten. Anschließend werden wir die Active Queue Management Methoden RED, BLUE, PI und ECN vorstellen und miteinander vergleichen.
\end{abstract}

\section{Einführung und Motivation}\label{sec:Motivation}
Nach Floyd \cite{Floyd1997} sind Ende-zu-Ende (E2E) Staukontrollmechanismen von TCP mittlerweile ein kritischer Faktor in der Robustheit des Internets. Das Internet wächst unaufhaltsam weiter, es gibt keine eng verknüpfte Netzgemeinschaft mehr und nicht jeder Endknoten verwendet die E2E Staukontrolle für bestmöglichen Datenfluss. Entwickler kümmern sich nicht länger darum, E2E Staukontrolle in ihre Internet-Anwendungen zu integrieren. Die Konsequenz davon ist, dass das Netzwerk selbst seine Resourcennutzung kontrolliert.

Graffi \cite{Graffi2007} beschreibt, dass Bandbreite aktuell die knappste Ressource in Netzwerken ist. Die eingehenden und ausgehenden Bandbreiten normaler ADSL Verbindungen sind unterschiedlich. Typischerweise ist die ausgehende Bandbreite deutlich kleiner als die eingehende. Das bedeutet, dass nicht alle eingehenden Daten verarbeitet und weitergesandt werden können. Staus sind also Probleme, die hier auftreten können, wenn keine angemessenen Mechanismen angewendet werden. Das TCP-Protokoll sieht vor, Pakete nach dem "First in First out" Prinzip fallenzulassen, wenn die Puffer voll laufen.

Die Problemstellung hier ist es also Mechanismen zu finden, Staus in E2E Verbindungen zu kontrollieren. Nach Le \cite{Le2003} soll die durchschnittliche Pufferausnutzung klein gehalten werden, damit E2E-Staukontrolle ermöglicht wird. Die Herausforderung besteht darin, dass an den Flaschenhälsen der potenzielle Stau erkannt wird und das komplette Netzwerk darauf reagiert, indem beispielsweise die Sendegeschwindigkeit des Ursprungs eines Datenstroms drastisch reduziert wird \cite{Graffi2007}.

Das folgende Kapitel (Kapitel \ref{sec:Staukontrolle}) beschreibt die generellen Konzepte der Staukontrolle in Netzen und präsentiert Active Queue Management als Lösungsansatz für das Problem. In Kapitel \ref{sec:AQM} wird Active Queue Management definiert und einige Anwendungsfälle davon präsentiert. Die Active Queue Management Algorithmen RED, BLUE, ECN und PI werden in Kapitel \ref{sec:Algorithmen} vorgestellt und in Kapitel \ref{sec:Vergleich} miteinander verglichen. Ein Ausblick zu zukünftigen Entwicklungen und Forschungen sowie andere Ansätze zur Staukontrolle zusammen mit den zusammengefassten Ergebnissen erfolgt in Kapitel \ref{sec:Ausblick}.

\section{Staukontrolle in Netzen}\label{sec:Staukontrolle} 

Neben \cite{Floyd1997} wird auch von Morris \cite{Morris1997} postuliert, dass die Effektivität von TCP mit zunehmender Anzahl an konkurrierender Datenströme nachlässt. Dieser Effekt beginnt sich zu zeigen, sobald mehr Datenströme als Pakete die vorhandene Bandbreite verwenden. Diese Probleme sind auch im Internet spürbar und es zeigt sich, dass das Internet einen gravierenden Performanceverlust dadurch erfährt. Die einfachste Lösung für diese Probleme wäre die radikale Vergrößerung von Routerpuffern zusammen mit einer Begrenzung der Anzahl der Pakete jedes einzelnen Datenstroms individuell. Da dies aber nicht ausführbar ist, müssen Staukontrollalgorithmen implementiert werden, mit den folgenden Haupzielen. Es soll eine hohe Ausnutzung von Flaschenhälsen wie Routern erreicht werden. Der Überlauf von Flaschenhälsen und damit eine zeitliche Verzögerung durch Staus sowie ein hoher Paketverlust soll verhindert werden. Zusätzlich soll die zur Verfügung stehende Bandbreite gleichmäßig zwischen konkurrierenden Datenströmen aufgeteilt werden \cite{Morris1997}. Um diese gleichmäßige Verteilung zu erreichen, ist TCP standardmäßig mit dem "`First Come First Serve"'-Prinzip nicht geeignet. Deshalb müssen hierfür andere Methoden entwickelt werden, die den Puffer in Routern anders abarbeiten und dennoch einfach zu verwenden sind \cite{Suter1998}.

Die Internet Protokoll Architektur basiert auf einem verbindungslosen E2E Paketdienst, der das IP Protokoll benutzt. Die vielen Vorteile dieses verbindungslosen Designs, der Flexibilität und Robustheit wurden schon oft beschrieben. Allerdings kommen diese Vorteile zu einem Preis. Sorgfältiges Design ist benötigt, um einen guten Dienst zu leisten bei hoher Last. Fehlende Aufmerksamkeit bei den Dynamiken des Paketweiterleitens kann in ernsthafter Dienstdegradation enden oder "`Internet Zusammenbruch"' \cite{Braden1998}. Dieses Phänomen wurde während der ersten Wachstumsphase des Internets in den 1980er Jahren festgestellt und wird "`congestion collapse"' \cite{Nagle1984} genannt. Bereits 1986 wurden von Jacobson entwickelte Stauverhinderungsmechanismen für Hosts entwickelt, die auch aktuell einen "`congestion collapse"' verhindern \cite{Braden1998}.

Da das Internet seit dieser Zeit immer weiter wächst, wurde es offensichtlich, dass TCP Stauverhinderungsmechanismen \cite{Stevens1997}, die absolut wichtig, nötig und mächtig sind, nicht unter allen Umständen ausreichend gute Dienste leisten. Das Hauptproblem liegt darin, dass von den Enden der Netzwerke nur bedingt Kontrolle ausgeübt werden kann. Deshalb müssen auch in Routern Mechanismen angewendet werden, die die Stauverhinderungsmechanismen der Endpunkte ergänzen. Hierbei muss man zwischen den beiden Klassen "`Queue Management"' und "`Scheduling"' von Router Algorithmen unterscheiden. Queue management Algorithmen verwalten die Länge von Paket-Puffern durch Fallenlassen von Paketen wenn nötig oder angemessen. Scheduling Algorithmen legen fest, welche Pakete als nächstes gesendet werden sollen und können primär dafür genutzt werden, die Zuweisung von Bandbreite zwischen den Datenströmen zu verwalten \cite{Braden1998}.

Nach Jain \cite{Jain1990} gibt es zwei Gründe, warum das Problem der Staukontrolle in Netzwerken sehr schwierig ist. Erstens gibt es Voraussetzungen für Staukontroll Schemas, die es schwierig machen eine zufriedenstellende Lösung zu finden. Zweitens gibt es unzählige Netzwerkregeln, die das Design eines Stauschemas beeinflussen. Das sind die Gründe, warum ein Schema, das für ein Netzwerk entwickelt wurde, in einem anderen Netzwerk nicht funktioniert. Grundbedingung für Schemas zur Staukontrolle sind: Das Schema muss einen kleinen Overhead haben, alle Datenströme gleichbehandeln, schnell auf andere Situationen reagieren können, in schlechten Umgebungen funktionsfähig sein und für alle Benutzer optimal sein.

Um E2E-Staukontrolle in Routern zu betreiben, muss nicht nur jeder einzelne Router auf sich allein gestellt seinen Puffer überwachen, sondern auch an die nächsten Router Informationen weiterleiten. Für diese Benachrichtigung könnten zwei reservierte Bits im TCP/IP-Header genutzt werden \cite{Graffi2007}. Mittels "`Explicit Congestion Notification"' (ECN) sollen Pakete mit der Staubenachrichtigung weiterversandt werden im Gegensatz zum einfachen Fallenlassen der Pakete. Auf diese Art und Weise werden vorangehende Router darüber informiert, dass es zu einem Stau gekommen ist und möglicherweise einzelne Pakete doppelt versandt werden müssen oder die Geschwindigkeit gedrosselt werden sollte. Prinzipiell ist es in Netzwerken, in denen es die Hauptaufgabe von Routern ist, Pakete an den Output-Port weiterzuleiten, kein Problem Pakete einfach fallen zulassen. Dies ist allerdings im Internet heute nicht mehr der Fall, da E2E-Verbindungen über sehr viele Router gehen können. ECN ist ein zuverlässiger Mechanismus, beinhaltet allerdings keine Methoden zur Erkennung von Staus \cite{Floyd1994}. Da es nicht vorhersehbar ist, wie hoch der Datenverkehr zukünftig sein wird, besteht das wirkliche Problem also darin, Staus frühzeitig und zuverlässig zu erkennen \cite{Jain1996}.

Router sollten den Ursprüngen eines Datenstrom signalisieren, dass die Sendegeschwindigkeit reduziert werden muss, um Staus zu vermeiden. Zusätzlich kann so eine gleichmäßige Verteilung der Bandbreite erfolgen, wenn besonders gierige Datenströme vorhanden sind. "`Active Queue Management"' (AQM) hat das Ziel Staus in Netzwerken rechtzeitig zu entdecken, bevor die Routerpuffer volllaufen. Es gibt im Prinzip zwei Möglichkeiten andere Router darüber zu informieren, dass ein Stau bevorsteht: Pakete können fallengelassen oder markiert werden. Die erste Strategie erfordert, dass die Endpunkte kooperieren und erzeugt einen Overhead, weil Pakete anschließend erneut gesendet werden müssen. Endpunkte müssen auf markierte Pakete reagieren, als wären sie fallengelassen worden, allerdings wird hier kein weiterer Overhead erzeugt, da die Pakete nicht erneut gesendet werden müssen. AQM-Algorithmen können zusätzlich die Bandbreite von besonders gierigen Datenströmen reduzieren, indem deren Pakete häufiger fallengelassen werden \cite{Graffi2007}.

\section{Definition und Anwendung von Active Queue Management}\label{sec:AQM}
\begin{itemize}
\item Wirklich gute Quelle hierfür ist \cite{Braden1998} Kapitel 2 \textbf{\textit{wirklich sehr gute Quelle}}
\item Effizientes Active Queue Management in Internet Routern \cite{Suter1998a}
\item Dimensionierung von Router Puffern \cite{Appenzeller2004}
\item Stochastische Modellierung und die Theorie von Queues \cite{Wolff1998}
\item Analyse und Simulation eines gleichbehandelnden Queue Algorithmus \cite{Demers1989}
\end{itemize}



\section{Die gängigsten Active Queue Management Algorithmen}\label{sec:Algorithmen}
\begin{itemize}
\item RED (Random Early Detection) \cite{Floyd1993} \cite{Firoiu2000}

Adaptive RED\cite{Floyd2001}
\item BLUE \cite{Feng2002}
\item ECN \cite{Ramakrishnan2001}
\item PI Controller \cite{Hollot2001}
\end{itemize}



\section{Vergleich der vorgestellten Algorithmen}\label{sec:Vergleich}
\begin{itemize}
\item Vergleich RED, ARED, PI \cite{Le2003}
\item Vergleich RED, PI \cite{Kunniyur2001}
\item Vergleich RED, BLUE, ARED, ECN, PI \cite{Graffi2007}
\end{itemize}



\section{Ausblick und andere Ansätze}\label{sec:Ausblick}
\begin{itemize}
\item Ein wirklich optimaler Algorithmus muss noch gefunden werden \cite{Graffi2007}
\item Statt Staukontrolle andere Wege suchen (CHOKe) \cite{Pan2000}
\end{itemize}

\nocite{*}
\bibliographystyle{IEEEtran_de}
\bibliography{IEEEabrv,bibliothek}


\end{document}
